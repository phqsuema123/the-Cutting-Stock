<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cutting Stock Solver</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }
    label {
        display: block;
        margin-bottom: 5px;
    }
    input[type="text"] {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        box-sizing: border-box;
    }
    button {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        cursor: pointer;
    }
    button:hover {
        background-color: #0056b3;
    }
    .result {
        margin-top: 20px;
    }
</style>
</head>
<body>
<h1>Cutting Stock Solver</h1>
<div id="inputForm">
    <label for="problemType">Choose the type of Cutting Stock Problem:</label>
    <select id="problemType">
        <option value="1">One-dimensional Cutting Stock Problem (1D CSP)</option>
        <option value="2">Two-dimensional Cutting Stock Problem (2D CSP)</option>
        <option value="3">Three-dimensional Cutting Stock Problem (3D CSP)</option>
    </select>
    <div id="inputs"></div>
    <button onclick="solve()">Solve</button>
</div>
<div id="result" class="result"></div>

<script>
function solve() {
    var problemType = document.getElementById("problemType").value;
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            document.getElementById("result").innerHTML = this.responseText;
        }
    };
    var url = "solve_problem?type=" + problemType;
    if (problemType === "1") {
        var stock_length = document.getElementById("stockLength").value;
        var required_lengths = document.getElementById("requiredLengths").value;
        var required_quantities = document.getElementById("requiredQuantities").value;
        url += "&stock_length=" + stock_length + "&required_lengths=" + required_lengths + "&required_quantities=" + required_quantities;
    } else if (problemType === "2") {
        var stock_width = document.getElementById("stockWidth").value;
        var stock_height = document.getElementById("stockHeight").value;
        url += "&stock_width=" + stock_width + "&stock_height=" + stock_height;
        // Get inputs for 2D problem
        var numRectangles = parseInt(prompt("Enter the number of required rectangles:"));
        var rectangleDimensions = [];
        for (var i = 0; i < numRectangles; i++) {
            var width = parseInt(prompt("Enter width of rectangle " + (i + 1) + ":"));
            var height = parseInt(prompt("Enter height of rectangle " + (i + 1) + ":"));
            rectangleDimensions.push([width, height]);
        }
        url += "&rectangle_dimensions=" + JSON.stringify(rectangleDimensions);
    } else if (problemType === "3") {
        var stock_width = document.getElementById("stockWidth").value;
        var stock_height = document.getElementById("stockHeight").value;
        var stock_length = document.getElementById("stockLength").value;
        url += "&stock_width=" + stock_width + "&stock_height=" + stock_height + "&stock_length=" + stock_length;
        // Get inputs for 3D problem
        var numBoxes = parseInt(prompt("Enter the number of required boxes:"));
        var boxDimensions = [];
        for (var i = 0; i < numBoxes; i++) {
            var width = parseInt(prompt("Enter width of box " + (i + 1) + ":"));
            var height = parseInt(prompt("Enter height of box " + (i + 1) + ":"));
            var length = parseInt(prompt("Enter length of box " + (i + 1) + ":"));
            boxDimensions.push([width, height, length]);
        }
        url += "&box_dimensions=" + JSON.stringify(boxDimensions);
    }
    xhttp.open("GET", url, true);
    xhttp.send();
}
</script>
</body>
</html>
